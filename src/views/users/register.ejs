<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs')%>
  <body>
    <%- include('../partials/header.ejs')%>

    <main class="mainRegister">

      <h2 class="pageTitle">Registrarse</h2>
      
      <form
        action="/users/register"
        method="post"
        class="formloginandregister"
        enctype="multipart/form-data"
      >
        <div class="nombre">
          <input
            id="nombre"
            autofocus
            type="text"
            name="name"
            placeholder="Nombre y apellido"
            class="form-control <%= locals.errors && errors.name ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.name : null %>"
          />
          <div class="text-danger" id="dangerName"></div>
          <% if (locals.errors && errors.name) { %>
          <div class="text-danger name"><%= errors.name.msg %></div>
          <% } %>
        </div>
        <div class="telefono">
          <input
            id="telefono"
            type="number"
            name="telefono"
            placeholder="Numero telefÃ³nico"
            class="form-control <%= locals.errors && errors.telefono ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.telefono : null %>"
          />
          <div class="text-danger" id="dangerTelefono"></div>
          <% if (locals.errors && errors.telefono) { %>
          <div class="text-danger"><%= errors.telefono.msg %></div>
          <% } %>
        </div>
        <div class="email">
          <input
            id="email"
            name="email"
            placeholder="email@address.com"
            class="form-control <%= locals.errors && errors.email ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.email : null %>"
          />
          <div class="text-danger" id="dangerEmail"></div>
          <% if (locals.errors && errors.email) { %>
          <div class="text-danger"><%= errors.email.msg %></div>
          <% } %>
        </div>
        <div class="inputSelector">
          <select name="categoria" id="categoria">
            <option value="1">Administrador</option>
            <option value="2">Cliente</option>
            <div class="text-danger" id="dangerCategoria"></div>
            <% if (locals.errors && errors.category_id) { %>
            <div class="text-danger"><%= errors.category_id.msg %></div>
            <% } %>
          </select>
        </div>
        <div class="avatar">
          <input
            id="avatar"
            type="file"
            name="avatar"
            value="<%= locals.oldFile? oldFile.filename: null %>"
            class="form-control <%= locals.errors && errors.avatar ? 'is-invalid' : null %>"
          />
          <div class="text-danger" id="dangerAvatar"></div>
          <% if (locals.errors && errors.avatar) { %>
          <div class="text-danger"><%= errors.avatar.msg %></div>
          <% } %>
        </div>

        <div class="pasword">
          <input
            id="password"
            type="password"
            name="password"
            placeholder="Ingresar password"
            class="form-control <%= locals.errors && errors.password ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.password : null %>"
          />
          <div class="text-danger" id="dangerPassword"></div>
          <% if (locals.errors && errors.password) { %>
          <div class="text-danger"><%= errors.password.msg %></div>
          <% } %>
        </div>
        <div class="pasword">
          <input
            id="passwordConfirm"
            type="password"
            name="passwordConfirm"
            placeholder="Confirmar password"
          />
          <div class="text-danger" id="dangerPasswordConfirm"></div>
        </div>
        <div class="loginButtonsDiv">
          <button class="boton" type="submit">Enviar</button>
          <button class="boton" type="reset">Borrar</button>
        </div>
      </form>
    </main>
    <%- include('../partials/footer.ejs')%>
    <script src="/js/registerForm.js"></script>
  </body>
</html>
